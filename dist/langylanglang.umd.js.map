{"version":3,"file":"langylanglang.umd.js","sources":["../src/index.js"],"sourcesContent":["let activeLocale = 'en'\nlet activeFallback = ''\nlet handleMissingKey\nlet locales = new Map()\n\nlocales.set(activeLocale, {})\n\nconst isObj = obj => typeof obj === 'function' || (typeof obj === 'object' && !!obj)\nconst isFunc = func => func && typeof func === 'function'\n\nexport function locale (newLocale) {\n  activeLocale = newLocale\n  return activeLocale\n}\n\nexport function set (locale, translations = {}) {\n  if (isObj(locale)) {\n    Object.keys(locale).forEach(currentLocale => {\n      const current = locales.get(currentLocale) || {}\n      locales.set(current, Object.assign(current, translations))\n    })\n  } else {\n    const current = locales.get(locale) || {}\n    locales.set(locale, Object.assign(current, translations))\n  }\n\n  return this\n}\n\nexport function t (key, props = {}, lang) {\n  const str = locales.get(lang || activeLocale || fallback)[key]\n\n  return str.replace(/{([a-zA-Z_-]+)}/g, (_, key) => {\n    if (!props[key]) {\n      return handleMissingKey ? handleMissingKey(key, props, str) : ''\n    }\n    return props[key]\n  })\n}\n\nexport function onMissingKey (func) {\n  if (isFunc(func)) {\n    handleMissingKey = func\n  }\n\n  return this\n}\n\nexport function fallback (newFallback) {\n  activeFallback = newFallback\n  return activeFallback\n}\n\nconst langylanglang = {\n  locale: locale,\n  set: set,\n  onMissingKey: onMissingKey,\n  t: t,\n  fallback: fallback\n}\n\nexport default langylanglang\n"],"names":["let","handleMissingKey","activeLocale","locales","Map","set","const","isObj","obj","isFunc","func","locale","newLocale","translations","Object","keys","forEach","currentLocale","current","get","assign","this","t","key","props","lang","str","fallback","replace","_","onMissingKey","newFallback","langylanglang"],"mappings":"mLAAAA,IAEIC,EAFAC,EAAe,KAGfC,EAAU,IAAIC,IAElBD,EAAQE,IAAIH,EAAc,IAE1BI,IAAMC,WAAQC,SAAsB,mBAARA,GAAsC,iBAARA,KAAsBA,GAC1EC,WAASC,UAAQA,GAAwB,mBAATA,GAE/B,SAASC,EAAQC,UACtBV,EAAeU,EAIV,SAASP,EAAKM,EAAQE,qBAAe,IACtCN,EAAMI,GACRG,OAAOC,KAAKJ,GAAQK,iBAAQC,OACpBC,EAAUf,EAAQgB,IAAIF,IAAkB,GAC9Cd,EAAQE,IAAIa,EAASJ,OAAOM,OAAOF,EAASL,UAEzC,KACCK,EAAUf,EAAQgB,IAAIR,IAAW,GACvCR,EAAQE,IAAIM,EAAQG,OAAOM,OAAOF,EAASL,WAGtCQ,KAGF,SAASC,EAAGC,EAAKC,EAAYC,kBAAJ,QACxBC,EAAMvB,EAAQgB,IAAIM,GAAQvB,GAAgByB,GAAUJ,UAEnDG,EAAIE,QAAQ,4BAAqBC,EAAGN,UACpCC,EAAMD,GAGJC,EAAMD,GAFJtB,EAAmBA,EAAiBsB,EAAKC,EAAOE,GAAO,KAM7D,SAASI,EAAcpB,UACxBD,EAAOC,KACTT,EAAmBS,GAGdW,KAGF,SAASM,EAAUI,UACPA,EAInBzB,IAAM0B,EAAgB,CACpBrB,OAAQA,EACRN,IAAKA,EACLyB,aAAcA,EACdR,EAAGA,EACHK,SAAUA"}